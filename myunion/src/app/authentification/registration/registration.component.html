<section class="vh-100">
  <div class="container-fluid h-custom">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-md-9 col-lg-6 col-xl-5">
        <img src="https://preview.colorlib.com/theme/bootstrap/login-form-07/images/undraw_remotely_2j6y.svg"
          class="img-fluid" alt="Sample image">
      </div>
      <div class="col-md-8 col-lg-6 col-xl-4 offset-xl-1">
        <header>
          <h1 style="font-size: 35px; font-weight: 600;">Création de compte</h1>
          <!--<a href="/home"><img src="https://forexkillergang.com/img/logoForex.png" alt="myunion" width="130px" height="130px" style="border-radius: 50%;"/></a>-->
        </header>
        <div id="error" class="alert alert-danger" style="display: none;">{{error.msg}}
          <div class="spinner-border text-success" role="status">
                  <span class="sr-only"></span>
              </div>
        </div>
        <form [formGroup]="signupForm" (ngSubmit)="register()" novalidate autocomplete="off">
          <div class="form-group">
            <h2 style="font-weight: bold;">Informations personnelles</h2>
            <!-- FirstName, lastName and birthdate inputs -->
            <div class="form-outline mb-4">
                <input type="text" id="lastname" name="lastname" formControlName="lastname" class="form-control" placeholder="Nom de famille" required/>
            </div>

            <div class="form-outline mb-4">
                <input type="text" id="firstname" name="firstname" formControlName="firstname" class="form-control" placeholder="Prénom" required/>
            </div>

            <div class="form-outline mb-4">
              <input type="date" id="birthdate" name="birthdate" formControlName="birthdate" class="form-control" placeholder="Date de naissance" required/>
            </div>
            
            
            <!-- Email input -->
            <div class="form-outline mb-4">
                <input type="email" id="username" name="email" formControlName="email" class="form-control" placeholder="Adresse email" [ngClass]="{ 'is-valid': (f.email.dirty || submitted) && !f.email.errors, 'is-invalid': (f.email.dirty || submitted) && f.email.errors }" />
                <div *ngIf="f.email.invalid && f.email.touched" class="invalid-feedback">
                  <span class="text-danger" *ngIf="f.email.errors?.['required']">Adresse email obligatoire</span>
                  <span class="text-danger" *ngIf="f.email.errors?.['email']">Adresse email non valide</span>
                </div>
            </div>

            <div class="form-outline mb-4">
                <input type="text" id="telnumber" name="telnumber" formControlName="telnumber" class="form-control" placeholder="Numéro de téléphone" required />
            </div>

            <!-- Adress input-->
            <div class="form-outline mb-4">
              <input type="text" id="country" name="country" formControlName="country" class="form-control" placeholder="Pays" required />
            </div>

            <div class="form-outline mb-4">
              <input type="text" id="town" name="town" formControlName="town" class="form-control" placeholder="Ville" required />
            </div>

            <div class="form-outline mb-4">
                <input type="text" id="area" name="area" formControlName="area" class="form-control" placeholder="Quartier"  required />
            </div>
          </div>
          
          <div class="form-group">
            <h2 style="font-weight: bold;">Définir un mot de passe</h2>
            <!-- Password input -->
            <div class="form-outline mb-4">
              <input type="password" id="password" name="password" formControlName="password" class="form-control" placeholder="Mot de passe" required/>
              <div
                class="alert alert-danger"
                *ngIf="f.password.invalid && f.password.touched"
              >
                Le mot de passe doit contenir au moins 8 caractères, une lettre majuscule et un caractère spécial ($, &#64;, ^, !, %, *, ? ou &)
              </div>
            </div>

            <div class="form-outline mb-4">
                <input type="password" id="password2" name="password2" formControlName="password2" class="form-control" placeholder="Confirmer le mot de passe" required/>
            </div>  
          </div>
          
        
        
          <!-- Submit button -->
          <div class="text-center text-lg-start mt-4 pt-2">
            <button [disabled]="signupForm.invalid" type="submit" class="btn btn-primary btn-block mb-4">Valider
              <span  class="spinner-border text-light sr-only" role="status" hidden></span>
          </button>
            <p class="small fw-bold mt-2 pt-1 mb-0">Déjà un compte? <a href="/login"
                class="link-danger">Connectez-vous</a></p>
          </div>
          
        </form>
      </div>
    </div>
  </div>
</section>